{"ast":null,"code":"export const saveMindMap = mindMap => {\n  try {\n    const savedMaps = JSON.parse(localStorage.getItem('mindMaps') || '[]');\n    const existingIndex = savedMaps.findIndex(map => map.id === mindMap.id);\n    if (existingIndex >= 0) {\n      savedMaps[existingIndex] = mindMap;\n    } else {\n      savedMaps.push(mindMap);\n    }\n    localStorage.setItem('mindMaps', JSON.stringify(savedMaps));\n    return true;\n  } catch (error) {\n    console.error('保存失败:', error);\n    return false;\n  }\n};\nexport const loadMindMaps = () => {\n  try {\n    return JSON.parse(localStorage.getItem('mindMaps') || '[]');\n  } catch (error) {\n    console.error('加载失败:', error);\n    return [];\n  }\n};\nexport const deleteMindMap = id => {\n  try {\n    const savedMaps = JSON.parse(localStorage.getItem('mindMaps') || '[]');\n    const filteredMaps = savedMaps.filter(map => map.id !== id);\n    localStorage.setItem('mindMaps', JSON.stringify(filteredMaps));\n    return true;\n  } catch (error) {\n    console.error('删除失败:', error);\n    return false;\n  }\n};","map":{"version":3,"names":["saveMindMap","mindMap","savedMaps","JSON","parse","localStorage","getItem","existingIndex","findIndex","map","id","push","setItem","stringify","error","console","loadMindMaps","deleteMindMap","filteredMaps","filter"],"sources":["D:/Work/SIWEI/src/utils/storageUtils.ts"],"sourcesContent":["import { MindMap } from '../types/MindMap';\r\n\r\nexport const saveMindMap = (mindMap: MindMap) => {\r\n  try {\r\n    const savedMaps = JSON.parse(localStorage.getItem('mindMaps') || '[]');\r\n    const existingIndex = savedMaps.findIndex((map: MindMap) => map.id === mindMap.id);\r\n\r\n    if (existingIndex >= 0) {\r\n      savedMaps[existingIndex] = mindMap;\r\n    } else {\r\n      savedMaps.push(mindMap);\r\n    }\r\n\r\n    localStorage.setItem('mindMaps', JSON.stringify(savedMaps));\r\n    return true;\r\n  } catch (error) {\r\n    console.error('保存失败:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const loadMindMaps = (): MindMap[] => {\r\n  try {\r\n    return JSON.parse(localStorage.getItem('mindMaps') || '[]');\r\n  } catch (error) {\r\n    console.error('加载失败:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const deleteMindMap = (id: string): boolean => {\r\n  try {\r\n    const savedMaps = JSON.parse(localStorage.getItem('mindMaps') || '[]');\r\n    const filteredMaps = savedMaps.filter((map: MindMap) => map.id !== id);\r\n    localStorage.setItem('mindMaps', JSON.stringify(filteredMaps));\r\n    return true;\r\n  } catch (error) {\r\n    console.error('删除失败:', error);\r\n    return false;\r\n  }\r\n};"],"mappings":"AAEA,OAAO,MAAMA,WAAW,GAAIC,OAAgB,IAAK;EAC/C,IAAI;IACF,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;IACtE,MAAMC,aAAa,GAAGL,SAAS,CAACM,SAAS,CAAEC,GAAY,IAAKA,GAAG,CAACC,EAAE,KAAKT,OAAO,CAACS,EAAE,CAAC;IAElF,IAAIH,aAAa,IAAI,CAAC,EAAE;MACtBL,SAAS,CAACK,aAAa,CAAC,GAAGN,OAAO;IACpC,CAAC,MAAM;MACLC,SAAS,CAACS,IAAI,CAACV,OAAO,CAAC;IACzB;IAEAI,YAAY,CAACO,OAAO,CAAC,UAAU,EAAET,IAAI,CAACU,SAAS,CAACX,SAAS,CAAC,CAAC;IAC3D,OAAO,IAAI;EACb,CAAC,CAAC,OAAOY,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;IAC7B,OAAO,KAAK;EACd;AACF,CAAC;AAED,OAAO,MAAME,YAAY,GAAGA,CAAA,KAAiB;EAC3C,IAAI;IACF,OAAOb,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;EAC7D,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;IAC7B,OAAO,EAAE;EACX;AACF,CAAC;AAED,OAAO,MAAMG,aAAa,GAAIP,EAAU,IAAc;EACpD,IAAI;IACF,MAAMR,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;IACtE,MAAMY,YAAY,GAAGhB,SAAS,CAACiB,MAAM,CAAEV,GAAY,IAAKA,GAAG,CAACC,EAAE,KAAKA,EAAE,CAAC;IACtEL,YAAY,CAACO,OAAO,CAAC,UAAU,EAAET,IAAI,CAACU,SAAS,CAACK,YAAY,CAAC,CAAC;IAC9D,OAAO,IAAI;EACb,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;IAC7B,OAAO,KAAK;EACd;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}