{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\SIWEI\\\\src\\\\components\\\\CloudMindMaps.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { loadMindMap } from '../store/mindMapSlice';\nimport { getAllCloudMindMaps, likeMindMap, addComment } from '../utils/cloudStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CloudMindMaps = () => {\n  _s();\n  const [mindMaps, setMindMaps] = useState(getAllCloudMindMaps());\n  const dispatch = useDispatch();\n  const handleLike = mapId => {\n    // 实际应用中应该使用真实的用户ID\n    likeMindMap(mapId, 'user123');\n    setMindMaps(getAllCloudMindMaps());\n  };\n  const handleComment = (mapId, content) => {\n    // 实际应用中应该使用真实的用户信息\n    addComment(mapId, 'user123', '测试用户', content);\n    setMindMaps(getAllCloudMindMaps());\n  };\n  const handleLoad = mindMap => {\n    dispatch(loadMindMap(mindMap));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cloud-mindmaps\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u5206\\u4EAB\\u7684\\u601D\\u7EF4\\u5BFC\\u56FE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mindmap-list\",\n      children: mindMaps.map(map => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mindmap-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mindmap-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: map.rootTopic.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"author\",\n            children: map.authorName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mindmap-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleLoad(map),\n            children: \"\\u6253\\u5F00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleLike(map.id),\n            children: [\"\\u70B9\\u8D5E (\", map.likes, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comments-section\",\n          children: [map.comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"comment-author\",\n              children: comment.authorName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: comment.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 19\n            }, this)]\n          }, comment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u6DFB\\u52A0\\u8BC4\\u8BBA...\",\n            onKeyPress: e => {\n              if (e.key === 'Enter') {\n                handleComment(map.id, e.currentTarget.value);\n                e.currentTarget.value = '';\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this)]\n      }, map.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(CloudMindMaps, \"cXq6Sn7NmYVVA22ikjpXY0aztbI=\", false, function () {\n  return [useDispatch];\n});\n_c = CloudMindMaps;\nexport default CloudMindMaps;\nvar _c;\n$RefreshReg$(_c, \"CloudMindMaps\");","map":{"version":3,"names":["React","useState","useDispatch","loadMindMap","getAllCloudMindMaps","likeMindMap","addComment","jsxDEV","_jsxDEV","CloudMindMaps","_s","mindMaps","setMindMaps","dispatch","handleLike","mapId","handleComment","content","handleLoad","mindMap","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","rootTopic","title","authorName","onClick","id","likes","comments","comment","type","placeholder","onKeyPress","e","key","currentTarget","value","_c","$RefreshReg$"],"sources":["D:/Work/SIWEI/src/components/CloudMindMaps.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loadMindMap } from '../store/mindMapSlice';\r\nimport { getAllCloudMindMaps, likeMindMap, addComment } from '../utils/cloudStorage';\r\n\r\nconst CloudMindMaps: React.FC = () => {\r\n  const [mindMaps, setMindMaps] = useState(getAllCloudMindMaps());\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLike = (mapId: string) => {\r\n    // 实际应用中应该使用真实的用户ID\r\n    likeMindMap(mapId, 'user123');\r\n    setMindMaps(getAllCloudMindMaps());\r\n  };\r\n\r\n  const handleComment = (mapId: string, content: string) => {\r\n    // 实际应用中应该使用真实的用户信息\r\n    addComment(mapId, 'user123', '测试用户', content);\r\n    setMindMaps(getAllCloudMindMaps());\r\n  };\r\n\r\n  const handleLoad = (mindMap: any) => {\r\n    dispatch(loadMindMap(mindMap));\r\n  };\r\n\r\n  return (\r\n    <div className=\"cloud-mindmaps\">\r\n      <h2>分享的思维导图</h2>\r\n      <div className=\"mindmap-list\">\r\n        {mindMaps.map(map => (\r\n          <div key={map.id} className=\"mindmap-card\">\r\n            <div className=\"mindmap-header\">\r\n              <h3>{map.rootTopic.title}</h3>\r\n              <span className=\"author\">{map.authorName}</span>\r\n            </div>\r\n            <div className=\"mindmap-actions\">\r\n              <button onClick={() => handleLoad(map)}>打开</button>\r\n              <button onClick={() => handleLike(map.id)}>\r\n                点赞 ({map.likes})\r\n              </button>\r\n            </div>\r\n            <div className=\"comments-section\">\r\n              {map.comments.map(comment => (\r\n                <div key={comment.id} className=\"comment\">\r\n                  <span className=\"comment-author\">{comment.authorName}</span>\r\n                  <p>{comment.content}</p>\r\n                </div>\r\n              ))}\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"添加评论...\"\r\n                onKeyPress={(e) => {\r\n                  if (e.key === 'Enter') {\r\n                    handleComment(map.id, e.currentTarget.value);\r\n                    e.currentTarget.value = '';\r\n                  }\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CloudMindMaps;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}